\documentclass[../../../../main]{subfiles}

\begin{document}
    \subsubsection{DBサーバーのメモリ制限を変更させた場合の検証結果}\label{subsubsec:result-streaming-change-db-memory}

    ここでは, Web APIサーバーのアプリケーションサーバーコンテナのCPU制限を400\%, メモリ制限8192MBとし, DBサーバーのCPU制限を400\%として, DBサーバーのメモリ制限を1024MB, 2048MB, 4096MB, 8192MBと変更させた場合の実験結果を示す.

    \subsubsubsection{サーバー内処理時間}

    図\ref{fig:stream-change-db-memory-limit-server-time-app_4_8192-db_400}に, メモリ制限を変化させた際のサーバー内処理時間を示す.

    \subfile{図:app-server-time/図:app-server-time}

    図\ref{fig:stream-change-db-memory-limit-server-time-app_4_8192-db_400}より, DBのメモリ制限を変更させたことによる変化は見られなかった. よって, DBのパフォーマンスの変化がサーバー内処理時間に影響を与えていないか, DBの利用可能なメモリ量がDBのパフォーマンスに影響がないことがわかる.

    \subsubsubsection{アプリケーションサーバーのCPU使用率}

    図\ref{fig:stream-change-db-memory-limit-app-cpu-app_4_8192-db_400}に, メモリ制限を変更した際のアプリケーションサーバーコンテナのCPU使用率を, 図\ref{fig:stream-change-db-memory-limit-db-cpu-app_4_8192-db_400}にはDBサーバーコンテナのCPU使用率を示す.

    \subfile{図:app-CPU/図:app-CPU}

    \subfile{図:db-CPU/図:db-CPU}

    図\ref{fig:stream-change-db-memory-limit-app-cpu-app_4_8192-db_400}と図\ref{fig:stream-change-db-memory-limit-db-cpu-app_4_8192-db_400}, 共にDBサーバーのメモリ制限を変更したことによる変化は見られなかった.

    \subsubsubsection{アプリケーションサーバーのメモリ使用量}

    図\ref{fig:stream-change-db-memory-limit-app-memory-app_4_8192-db_400}に, メモリ制限を変更させた際のアプリケーションサーバーコンテナのメモリ使用量を, 図\ref{fig:stream-change-db-memory-limit-db-memory-app_4_8192-db_400}にはDBサーバーコンテナのメモリ使用量を示す.

    \subfile{図:app-memory/図:app-memory}

    \subfile{図:db-memory/図:db-memory}

    図\ref{fig:stream-change-db-memory-limit-db-memory-app_4_8192-db_400}より, メモリ使用量が変化していないため, DBの利用可能なメモリ使用量がDBのパフォーマンスに影響を与えていないことがわかる.

    \subsubsubsection{ディスクI/O}

    図\ref{fig:stream-change-db-memory-limit-app-disk-in-app_4_8192-db_400}に, メモリ制限を変更させた際のアプリケーションサーバーコンテナのディスク書き込み量を, 図\ref{fig:stream-change-db-memory-limit-app-disk-out-app_4_8192-db_400}にはディスク読み込み量を示す.

    \subfile{図:app-disk-in/図:app-disk-in}
    \subfile{図:app-disk-out/図:app-disk-out}

    図\ref{fig:stream-change-db-memory-limit-db-disk-in-app_4_8192-db_400}と図\ref{fig:stream-change-db-memory-limit-db-disk-out-app_4_8192-db_400}に, メモリ制限を変更させた際のDBサーバーコンテナのディスク書き込み量とディスク読み込み量を示す.

    \subfile{図:db-disk-in/図:db-disk-in}
    \subfile{図:db-disk-out/図:db-disk-out}

    図から, DBサーバーのディスクI/Oにはメモリ制限の変更による影響は見られなかった.

    \subsubsubsection{ネットワークI/O}

    図\ref{fig:stream-change-db-memory-limit-app-net-in-app_4_8192-db_400}に, メモリ制限を変更させた際のアプリケーションサーバーコンテナのネットワーク受信量を, 図\ref{fig:stream-change-db-memory-limit-app-net-out-app_4_8192-db_400}にはネットワーク送信量を示す.

    \subfile{図:app-net-in/図:app-net-in}
    \subfile{図:app-net-out/図:app-net-out}

    図から, DBの利用可能なメモリ量がネットワークI/Oに影響を与えていないことがわかる.

\end{document}