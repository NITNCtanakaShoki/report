\documentclass[../../../../main]{subfiles}

\begin{document}
    \subsubsection{DBサーバーのCPU制限を変更させた場合の検証結果}\label{subsubsec:result-streaming-change-db-cpu}

    ここでは, Web APIサーバーのアプリケーションサーバーコンテナのCPU制限を400\%, メモリ制限8192MBとし, DBサーバーのモリ制限を1024MBとして, DBサーバーコンテナのCPU制限を200\%, 300\%, 400\%と変更させた場合の実験結果を示す.

    \subsubsubsection{サーバー内処理時間}

    図\ref{fig:stream-change-db-cpu-limit-server-time-app_4_8192-db_1024}に, CPU制限を変化させた際のサーバー内処理時間を示す.

    \subfile{図:app-server-time/図:app-server-time}

    図\ref{fig:stream-change-db-cpu-limit-server-time-app_4_8192-db_1024}から, DBサーバーコンテナのCPU制限に関わらずサーバー内処理時間はイベント数に比例していることが確認できる. このことから, DBサーバーでは増加したCPUを利用していない, またはDBサーバーの速度が速くサーバー内処理時間に影響をほとんど与えていないことがわかる.

    \subsubsubsection{アプリケーションサーバーのCPU使用率}

    図\ref{fig:stream-change-db-cpu-limit-app-cpu-app_4_8192-db_1024}に, CPU制限を変更した際のアプリケーションサーバーコンテナのCPU使用率を, 図\ref{fig:stream-change-db-cpu-limit-db-cpu-app_4_8192-db_1024}にはDBサーバーコンテナのCPU使用率を示す.

    \subfile{図:app-CPU/図:app-CPU}

    \subfile{図:db-CPU/図:db-CPU}

    図\ref{fig:stream-change-db-cpu-limit-app-cpu-app_4_8192-db_1024}からDBサーバーコンテナのCPU制限にアプリケーションコンテナのCPU使用率に関係性はなく, 図\ref{fig:stream-change-db-cpu-limit-db-cpu-app_4_8192-db_1024}からDBサーバーは増加したCPUを利用していないことがわかる.

    \subsubsubsection{アプリケーションサーバーのメモリ使用量}

    図\ref{fig:stream-change-db-cpu-limit-app-memory-app_4_8192-db_1024}に, CPU制限を変更させた際のアプリケーションサーバーコンテナのメモリ使用量を, 図\ref{fig:stream-change-db-cpu-limit-db-memory-app_4_8192-db_1024}にはDBサーバーコンテナのメモリ使用量を示す.

    \subfile{図:app-memory/図:app-memory}

    \subfile{図:db-memory/図:db-memory}

    図から, ずれはあるもののCPU使用率はメモリ使用量に影響していないと判断される.

    \subsubsubsection{ディスクI/O}

    図\ref{fig:stream-change-db-cpu-limit-app-disk-in-app_4_8192-db_1024}に, CPU制限を変更させた際のアプリケーションサーバーコンテナのディスク書き込み量を, 図\ref{fig:stream-change-db-cpu-limit-app-disk-out-app_4_8192-db_1024}にはディスク読み込み量を示す.

    \subfile{図:app-disk-in/図:app-disk-in}
    \subfile{図:app-disk-out/図:app-disk-out}

    図からアプリケーションサーバーには全く影響がないことが確認できる.

    \subfile{図:db-disk-in/図:db-disk-in}
    \subfile{図:db-disk-out/図:db-disk-out}

    図から, DBサーバーのCPU使用可能量とディスクI/Oには関係性がないことが確認できる.

    \subsubsubsection{ネットワークI/O}

    図\ref{fig:stream-change-db-cpu-limit-app-net-in-app_4_8192-db_1024}に, CPU制限を変更させた際のアプリケーションサーバーコンテナのネットワーク受信量を, 図\ref{fig:stream-change-db-cpu-limit-app-net-out-app_4_8192-db_1024}にはネットワーク送信量を示す.

    \subfile{図:app-net-in/図:app-net-in}
    \subfile{図:app-net-out/図:app-net-out}

    図から, DBの使用可能なCPU量がネットワークには影響がないことが確認できる.

\end{document}