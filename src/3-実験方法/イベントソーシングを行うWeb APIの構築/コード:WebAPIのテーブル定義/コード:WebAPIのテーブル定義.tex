\documentclass[../../../../main]{subfiles}

\begin{document}
    \begin{mdframed}
        \begin{minted}[breaklines, linenos]{sql}
CREATE TABLE users (
    name       TEXT NOT NULL PRIMARY KEY,
    created_at TIMESTAMP WITH TIME ZONE NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL
);
CREATE TABLE send_events (
    id            UUID   NOT NULL PRIMARY KEY,
    from_username TEXT   NOT NULL REFERENCES users,
    to_username   TEXT   NOT NULL REFERENCES users,
    point         BIGINT NOT NULL,
    date          TIMESTAMP WITH TIME ZONE NOT NULL
);
        \end{minted}
    \end{mdframed}
    \captionof{figure}{Web APIサーバーのテーブル定義}
    \label{fig:web_api-table-definication}
\end{document}